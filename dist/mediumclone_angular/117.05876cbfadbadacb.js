"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[117],{4521:(h,d,o)=>{o.d(d,{U:()=>l});var t=o(4221);const l=(0,t.R7)({source:"User Profile",events:{"Load User Profile":(0,t.Ky)(),"Load User Profile Success":(0,t.Ky)(),"Load User Profile Failure":(0,t.Ky)()}})},597:(h,d,o)=>{o.d(d,{aM:()=>u,fE:()=>a,i2:()=>U,tM:()=>g,xU:()=>f});var t=o(4221),l=o(4521);const c=(0,t.Tz)({name:"userProfile",reducer:(0,t.Lq)({profile:null,isLoading:!1,errors:null},(0,t.on)(l.U.loadUserProfile,e=>({...e,isLoading:!0})),(0,t.on)(l.U.loadUserProfileSuccess,(e,{profile:m})=>({...e,profile:m,isLoading:!1})),(0,t.on)(l.U.loadUserProfileFailure,(e,{error:m})=>({...e,isLoading:!1,errors:m})))}),{name:u,reducer:a,selectProfile:g,selectErrors:U,selectIsLoading:f}=c},7454:(h,d,o)=>{o.d(d,{a:()=>u});var t=o(4521),l=o(597),P=o(5879),c=o(4221);let u=(()=>{var a;class g{constructor(f){this.store=f,this.getUserProfile$=this.store.select(l.tM),this.isLoading$=this.store.select(l.xU),this.error$=this.store.select(l.i2)}loadUserProfile(f){this.store.dispatch(t.U.loadUserProfile({request:f}))}}return(a=g).\u0275fac=function(f){return new(f||a)(P.LFG(c.yh))},a.\u0275prov=P.Yz7({token:a,factory:a.\u0275fac}),g})()},2117:(h,d,o)=>{o.r(d),o.d(d,{userProfileRoutes:()=>K});var t={};o.r(t),o.d(t,{loadUserProfileEffect:()=>R});var l=o(7483),P=o(4221),c=o(6814),u=o(8281),a=o(2572),g=o(9185),U=o(666),f=o(5822),e=o(5879),m=o(7454);function M(r,i){1&r&&e._UZ(0,"mc-loader")}const T=function(){return["/settings"]};function y(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),e._UZ(5,"img",7),e.TgZ(6,"h4"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"a",8),e._UZ(13,"i",9),e._uU(14,"Edit Profile Settings"),e.qZA()()()()(),e.TgZ(15,"div",4)(16,"div",5)(17,"div",6),e._UZ(18,"mc-feed-toggler",10)(19,"router-outlet"),e.qZA()()(),e.BQk()),2&r){const n=e.oxw().ngIf,s=e.oxw();e.xp6(5),e.Q6J("src",n.userProfile.image,e.LSH),e.xp6(2),e.Oqu(n.userProfile.username),e.xp6(2),e.hij(" ",n.userProfile.bio," "),e.xp6(2),e.hij("Following: ",n.userProfile.following,""),e.xp6(1),e.Q6J("routerLink",e.DdM(7,T)),e.xp6(6),e.Q6J("toggleType",s.toggleType)("username",s.username)}}function x(r,i){if(1&r&&(e.TgZ(0,"div",1),e.YNc(1,M,1,0,"mc-loader",2),e.YNc(2,y,20,8,"ng-container",2),e.qZA()),2&r){const n=i.ngIf;e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.userProfile&&!n.isLoading)}}let F=(()=>{var r;class i{constructor(s,v){this.userProfileFacade=s,this.route=v,this.data$=(0,a.a)({userProfile:this.userProfileFacade.getUserProfile$,isLoading:this.userProfileFacade.isLoading$,error:this.userProfileFacade.error$}),this.toggleType=f._.PROFILE,this.username=this.route.snapshot.paramMap.get("username")||""}ngOnInit(){this.userProfileFacade.loadUserProfile({username:this.username})}}return(r=i).\u0275fac=function(s){return new(s||r)(e.Y36(m.a),e.Y36(u.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mc-user-profile"]],standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","profile-page",4,"ngIf"],[1,"profile-page"],[4,"ngIf"],[1,"user-info"],[1,"container"],[1,"row"],[1,"col-xs-12","col-md-10","offset-md-1"],[1,"user-img",3,"src"],[1,"btn","btn-sm","btn-outline-secondary","action-btn",3,"routerLink"],[1,"ion-gear-a"],[3,"toggleType","username"]],template:function(s,v){1&s&&(e.YNc(0,x,3,2,"div",0),e.ALo(1,"async")),2&s&&e.Q6J("ngIf",e.lcZ(1,1,v.data$))},dependencies:[c.ez,c.O5,c.Ov,u.lC,u.rH,g.R,U.$]}),i})();var E=o(597),O=o(4664),C=o(7398),Z=o(6306),A=o(2096),I=o(5516),D=o(9862);let L=(()=>{var r;class i{constructor(s){this.http=s}loadUserProfile(s){return this.http.get(I.N.apiUrl+`/profiles/${s.username}`)}}return(r=i).\u0275fac=function(s){return new(s||r)(e.LFG(D.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),i})();var p=o(4521);const R=(0,l.GW)((r=(0,e.f3M)(l.eX),i=(0,e.f3M)(L))=>r.pipe((0,l.l4)(p.U.loadUserProfile),(0,O.w)(({request:n})=>i.loadUserProfile(n).pipe((0,C.U)(({profile:s})=>p.U.loadUserProfileSuccess({profile:s})),(0,Z.K)(s=>(0,A.of)(p.U.loadUserProfileFailure({error:s.error})))))),{functional:!0}),K=[{path:"",component:F,providers:[(0,P.oY)(E.aM,E.fE),(0,l.y3)(t),m.a,L],children:[{path:"",pathMatch:"full",redirectTo:"my-articles"},{path:"my-articles",loadChildren:()=>Promise.all([o.e(930),o.e(158)]).then(o.bind(o,9158)).then(r=>r.myArticle)},{path:"favorited",loadChildren:()=>Promise.all([o.e(930),o.e(174)]).then(o.bind(o,174)).then(r=>r.favoritedArticle)}]}]}}]);