"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[681],{681:(S,p,c)=>{c.r(p),c.d(p,{loginRoutes:()=>y,registerRoutes:()=>k});var m=c(6814),f=c(8281),e=c(95),d=c(7815),h=c(2572),b=c(7398),t=c(5879),Z=c(2023);function x(n,s){if(1&n&&(t.TgZ(0,"ul",13),t._UZ(1,"mc-error-messages",14),t.qZA()),2&n){const r=s.$implicit;t.xp6(1),t.Q6J("errors",r)}}function v(n,s){if(1&n){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._uU(6,"Sign in"),t.qZA(),t.TgZ(7,"p",5)(8,"a",6),t._uU(9,"Need an account?"),t.qZA()(),t.YNc(10,x,2,1,"ul",7),t.TgZ(11,"form",8),t.NdJ("ngSubmit",function(){t.CHM(r);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(12,"fieldset",9),t._UZ(13,"input",10),t.qZA(),t.TgZ(14,"fieldset",9),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"button",12),t._uU(17," Sign in "),t.qZA()()()()()(),t.BQk()}if(2&n){const r=s.ngIf,o=t.oxw();t.xp6(10),t.Q6J("ngForOf",r.backendErrors),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("disabled",r.isSubmitting)}}let _=(()=>{var n;class s{constructor(o,i){this.fb=o,this.authFacade=i,this.form=this.fb.nonNullable.group({email:["",[e.kI.required,e.kI.email]],password:["",e.kI.required]}),this.data$=(0,h.a)(this.authFacade.isSubmitting$,this.authFacade.isBackendErrors$).pipe((0,b.U)(([u,a])=>({isSubmitting:u,backendErrors:Object.keys(a??[]).map((F,g)=>a?Object.keys(a??[])[g]+" "+a[Object.keys(a??[])[0]]:"")})))}onSubmit(){const o={user:this.form.getRawValue()};this.authFacade.loginUser(o)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(e.qu),t.Y36(Z.j))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mc-login"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],["routerLink","/register","routerLinkActive","router-link-active"],["class","error-messages",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","email","type","text","placeholder","Email",1,"form-control","form-control-lg"],["formControlName","password","type","password","placeholder","Password",1,"form-control","form-control-lg"],[1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"],[1,"error-messages"],[3,"errors"]],template:function(o,i){1&o&&(t.YNc(0,v,18,3,"ng-container",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,i.data$))},dependencies:[m.ez,m.sg,m.O5,m.Ov,e.UX,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,f.rH,d.O]}),s})();function C(n,s){if(1&n&&(t.TgZ(0,"ul",14),t._UZ(1,"mc-error-messages",15),t.qZA()),2&n){const r=s.$implicit;t.xp6(1),t.Q6J("errors",r)}}function T(n,s){if(1&n){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._uU(6,"Sign up"),t.qZA(),t.TgZ(7,"p",5)(8,"a",6),t._uU(9,"Have an account?"),t.qZA()(),t.YNc(10,C,2,1,"ul",7),t.TgZ(11,"form",8),t.NdJ("ngSubmit",function(){t.CHM(r);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(12,"fieldset",9),t._UZ(13,"input",10),t.qZA(),t.TgZ(14,"fieldset",9),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"fieldset",9),t._UZ(17,"input",12),t.qZA(),t.TgZ(18,"button",13),t._uU(19,"Sign up"),t.qZA()()()()()(),t.BQk()}if(2&n){const r=s.ngIf,o=t.oxw();t.xp6(10),t.Q6J("ngForOf",r.backendErrors),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("disabled",r.isSubmitting)}}const k=[{path:"",component:(()=>{var n;class s{constructor(o,i){this.fb=o,this.authFacade=i,this.form=this.fb.nonNullable.group({username:["",e.kI.required],email:["",[e.kI.required,e.kI.email]],password:["",e.kI.required]}),this.data$=(0,h.a)(this.authFacade.isSubmitting$,this.authFacade.isBackendErrors$).pipe((0,b.U)(([u,a])=>({isSubmitting:u,backendErrors:Object.keys(a??[]).map((F,g)=>a?Object.keys(a??[])[g]+" "+a[Object.keys(a??[])[0]]:"")})))}onSubmit(){const o={user:this.form.getRawValue()};this.authFacade.registerUser(o)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(e.qu),t.Y36(Z.j))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mc-register"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],["routerLink","/login","routerLinkActive","router-link-active"],["class","error-messages",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","username","type","text","placeholder","Username",1,"form-control","form-control-lg"],["formControlName","email","type","text","placeholder","Email",1,"form-control","form-control-lg"],["formControlName","password","type","password","placeholder","Password",1,"form-control","form-control-lg"],[1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"],[1,"error-messages"],[3,"errors"]],template:function(o,i){1&o&&(t.YNc(0,T,20,3,"ng-container",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,i.data$))},dependencies:[m.ez,m.sg,m.O5,m.Ov,e.UX,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,f.rH,d.O]}),s})()}],y=[{path:"",component:_}]}}]);