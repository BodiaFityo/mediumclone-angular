"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[592],{6418:(h,u,o)=>{o.d(u,{E:()=>f});var t=o(5879),l=o(6814),n=o(95),d=o(7815);function g(r,c){if(1&r&&(t.TgZ(0,"ul",14),t._UZ(1,"mc-error-messages",15),t.qZA()),2&r){const a=c.$implicit;t.xp6(1),t.Q6J("errors",a)}}function _(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"span",16)(1,"i",17),t.NdJ("click",function(){const s=t.CHM(a).index,m=t.oxw();return t.KtG(m.removeTag(s))}),t.qZA(),t._uU(2),t.qZA()}if(2&r){const a=c.$implicit;t.xp6(2),t.hij(" ",a.value," ")}}let f=(()=>{var r;class c{get tagList(){return this.form.get("tagList")}constructor(e){this.fb=e,this.isSubmitting=!1,this.backendErrors=null,this.articleSubmit=new t.vpe,this.form=this.fb.nonNullable.group({title:[""],description:[""],body:[""],tagField:"",tagList:this.fb.array([])})}ngOnInit(){this.initForm()}initForm(){this.form.patchValue({title:this.initFormValues.title,description:this.initFormValues.description,body:this.initFormValues.body}),this.initFormValues.tagList.length&&this.initFormValues.tagList.forEach(e=>{this.tagList.push(this.fb.control(e.trim()))})}addTag(e){const i=this.form.get("tagField");i.value&&(this.tagList.push(this.fb.control(i.value.trim())),this.form.get("tagField")?.setValue("")),e.preventDefault()}removeTag(e){this.tagList.removeAt(e)}onSubmit(){const e=this.form.getRawValue();this.articleSubmit.next({title:e.title,body:e.body,description:e.description,tagList:e.tagList})}}return(r=c).\u0275fac=function(e){return new(e||r)(t.Y36(n.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mc-article-form"]],inputs:{initFormValues:"initFormValues",isSubmitting:"isSubmitting",backendErrors:"backendErrors"},outputs:{articleSubmit:"articleSubmit"},standalone:!0,features:[t.jDz],decls:19,vars:4,consts:[[1,"editor-page"],[1,"container","page"],[1,"row"],[1,"col-md-10","offset-md-1","col-xs-12"],["class","error-messages",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","title","type","text","placeholder","Article Title",1,"form-control","form-control-lg"],["formControlName","description","type","text","placeholder","What's this article about?",1,"form-control"],["formControlName","body","rows","8","placeholder","Write your article (in markdown)",1,"form-control"],["formControlName","tagField","type","text","placeholder","Enter tags",1,"form-control",3,"keydown.enter"],[1,"tag-list"],["formArrayName","tagList","class","tag-default tag-pill",4,"ngFor","ngForOf"],[1,"btn","btn-lg","pull-xs-right","btn-primary",3,"disabled"],[1,"error-messages"],[3,"errors"],["formArrayName","tagList",1,"tag-default","tag-pill"],[1,"ion-close-round",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,g,2,1,"ul",4),t.TgZ(5,"form",5),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(6,"fieldset")(7,"fieldset",6),t._UZ(8,"input",7),t.qZA(),t.TgZ(9,"fieldset",6),t._UZ(10,"input",8),t.qZA(),t.TgZ(11,"fieldset",6),t._UZ(12,"textarea",9),t.qZA(),t.TgZ(13,"fieldset",6)(14,"input",10),t.NdJ("keydown.enter",function(m){return i.addTag(m)}),t.qZA(),t.TgZ(15,"div",11),t.YNc(16,_,3,1,"span",12),t.qZA()(),t.TgZ(17,"button",13),t._uU(18," Publish Article "),t.qZA()()()()()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",i.backendErrors),t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(11),t.Q6J("ngForOf",i.tagList.controls),t.xp6(1),t.Q6J("disabled",i.form.invalid||i.isSubmitting))},dependencies:[l.ez,l.sg,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,n.CE,d.O]}),c})()},666:(h,u,o)=>{o.d(u,{$:()=>a});var t=o(5879),l=o(6814),n=o(8281),d=o(2023),g=o(5822);const _=function(){return{exact:!0}};function f(e,i){if(1&e&&(t.TgZ(0,"li",3)(1,"a",5),t._uU(2),t.qZA()()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("routerLink",s.toggleOptions.firstLink.link)("routerLinkActiveOptions",t.DdM(3,_)),t.xp6(1),t.Oqu(s.toggleOptions.firstLink.text)}}const r=function(e){return["/tags",e]};function c(e,i){if(1&e&&(t.TgZ(0,"li",3)(1,"a",6),t._UZ(2,"i",7),t._uU(3),t.qZA()()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(2,r,s.tagName)),t.xp6(2),t.hij(" ",s.tagName," ")}}let a=(()=>{var e;class i{constructor(){this.toggleType=g._.GLOBALFEED,this.toggleOptions={firstLink:{text:"Your Feed",link:"/feed"},secondLink:{text:"Global Feed",link:"/"}},this.currentUser$=(0,t.f3M)(d.j).currentUser$}ngOnInit(){this.toggleType===g._.PROFILE&&this.setToogleOptions()}setToogleOptions(){this.toggleOptions={firstLink:{text:"My Articles",link:`/profiles/${this.username}/my-articles`},secondLink:{text:"Favorited Articles",link:`/profiles/${this.username}/favorited`}}}}return(e=i).\u0275fac=function(m){return new(m||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["mc-feed-toggler"]],inputs:{tagName:"tagName",toggleType:"toggleType",username:"username"},standalone:!0,features:[t.jDz],decls:8,vars:8,consts:[[1,"feed-toggle"],[1,"nav","nav-pills","outline-active"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active","queryParamsHandling","merge",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","router-link-active","routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"ion-pound"]],template:function(m,p){1&m&&(t.TgZ(0,"div",0)(1,"ul",1),t.YNc(2,f,3,4,"li",2),t.ALo(3,"async"),t.TgZ(4,"li",3)(5,"a",4),t._uU(6),t.qZA()(),t.YNc(7,c,4,4,"li",2),t.qZA()()),2&m&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,5,p.currentUser$)),t.xp6(3),t.Q6J("routerLink",p.toggleOptions.secondLink.link)("routerLinkActiveOptions",t.DdM(7,_)),t.xp6(1),t.Oqu(p.toggleOptions.secondLink.text),t.xp6(1),t.Q6J("ngIf",p.tagName))},dependencies:[l.ez,l.O5,l.Ov,n.rH,n.Od]}),i})()},5822:(h,u,o)=>{o.d(u,{_:()=>t});var t=function(l){return l.PROFILE="profileFeed",l.GLOBALFEED="globalFeed",l}(t||{})}}]);